!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ec=e()}(this,function(){var t=new Date,r=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();function n(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):t["on"+e]=r}function i(t){return t||window.event}function e(){this.target=null,this.triggerStartTime=0,this.triggerEndTime=0,this.targetClass="",this.targetId="",function(){var e=this;n(window,"click",function(t){t=i(t),e.target=t.target||t.srcElement,e.targetId=t.target.id,e.targetClass=t.target.className,e.triggerEndTime=(new Date).getTime()})}.call(this)}function a(t){this.init(t)}return a.prototype.init=function(t){null!=t&&"function"==typeof t&&(this.ecData={errorMesg:"",errorTip:"",errorFile:"",errorLine:"",errorColum:"",userAgent:{},errorTime:"",userLocation:"",domTarget:""},this.cb=t,function(){var e=this;n(window,"error",function(t){t=i(t),e.ecData.errorMesg=t.message,e.ecData.errorFile=t.filename,e.ecData.errorLine=t.lineno,e.ecData.errorColum=t.colno,e.ecData.errorTime=r,setTimeout(function(){e.target&&(e.ecData.domTarget=function(){var t="<";return t+=this.target.tagName.toLowerCase(),this.targetClass&&(t+=' class="'+this.targetClass+'"'),this.targetId&&(t+=' id="'+this.targetId+'"'),t+=">……",this.target=null,t}.call(e)),e.cb(e.ecData)},0)})}.call(this),e.call(this))},a});
//# sourceMappingURL=ec.min.js.map
